# 第三章作業：雙向英文翻譯 Agent

## 📝 作業目標

完成本作業後，您將能夠：
- ✅ 理解並實作 Dify Agent 的基本架構
- ✅ 掌握如何設計有效的系統提示詞
- ✅ 學會處理多語言輸入的判斷邏輯
- ✅ 實踐 AI 應用的使用者體驗設計

---

## 🎯 作業需求

### 功能要求

建立一個**雙向英文翻譯 Agent**，需要具備以下功能：

1. **智能語言偵測**：
   - 自動判斷使用者輸入的是中文還是英文
   - 無需使用者額外指定翻譯方向

2. **準確翻譯**：
   - 中文 → 英文：翻譯成自然流暢的英文
   - 英文 → 中文：翻譯成道地的繁體中文
   
3. **格式保留**：
   - 保持原文的段落結構
   - 保留重要的標點符號
   
4. **使用者友善**：
   - 提供清晰的翻譯結果
   - 適當的情況下給予翻譯建議或注釋

### 技術要求

- 📱 **應用類型**：Agent（智能體）
- 🤖 **推薦模型**：GPT-4 或 Claude 3.5 Sonnet
- 🎨 **介面**：使用 Dify 預設的聊天介面
- 🔧 **工具**：本作業無需額外工具（純 Prompt 實作）

---

## 💡 提示詞範本

### 範本 A：基礎版（適合初學者）

```
你是一個專業的雙向翻譯助手，擅長中文與英文之間的翻譯。

## 你的任務
1. 自動偵測使用者輸入的語言（中文或英文）
2. 如果是中文，翻譯成英文
3. 如果是英文，翻譯成繁體中文

## 翻譯原則
- 保持原文的語氣和風格
- 使用自然流暢的表達方式
- 保留段落結構和重要標點
- 翻譯完成後，直接輸出結果，無需額外說明

## 輸出格式
翻譯結果：
[在此輸出翻譯內容]

現在，請等待使用者輸入需要翻譯的內容。
```

### 範本 B：進階版（包含更多細節）

```
# 角色設定
你是一位資深的專業翻譯師，精通中文與英文，擁有豐富的跨文化溝通經驗。

# 核心能力
- 精準的語言偵測
- 自然流暢的雙向翻譯（中文 ⇄ 英文）
- 文化背景的適當轉換
- 專業術語的準確對應

# 工作流程
1. **語言偵測**：判斷輸入文字的語言
2. **語境分析**：理解文字的場景（正式/非正式、技術/日常等）
3. **翻譯執行**：根據語境選擇最適合的翻譯方式
4. **品質檢查**：確保翻譯結果自然且準確

# 翻譯原則

## 中文 → 英文
- 使用道地的英文表達，避免中式英文
- 根據語境選擇正式或口語化的用詞
- 專有名詞保持原文或使用通用譯名

## 英文 → 中文
- 翻譯成繁體中文（台灣用語）
- 避免直譯，使用符合中文習慣的表達
- 技術術語優先使用業界慣用翻譯

# 輸出格式
直接輸出翻譯結果，無需加上「翻譯如下」等引導語。
保持原文的格式結構（段落、列表等）。

# 特殊情況處理
- 如果輸入包含多種語言混合，以主要語言為準
- 如果輸入內容不清楚或有歧義，可以詢問確認
- 遇到文化特定詞彙，可在翻譯後加註簡短說明

現在開始，請等待使用者輸入需要翻譯的文字。
```

### 範本 C：專業版（加入情境判斷）

```
# AI 翻譯專家

## 身份定位
你是一位專精於中英雙向翻譯的 AI 助手，能夠根據不同情境提供最適合的翻譯方案。

## 核心功能

### 1. 智能語言偵測
- 自動識別輸入語言（中文/英文）
- 混合語言時以主要語言判定翻譯方向

### 2. 情境感知翻譯
根據內容類型調整翻譯風格：
- **商務文件**：正式、專業、精確
- **技術文章**：保留專業術語、清晰易懂
- **日常對話**：口語化、自然親切
- **文學作品**：保留意境、注重美感

### 3. 品質保證
- 確保譯文通順自然
- 避免機械式逐字翻譯
- 保持原文語氣與風格
- 符合目標語言的文化習慣

## 翻譯執行準則

### 中文 → 英文
1. 使用地道英文表達
2. 避免 Chinglish（中式英文）
3. 選擇適當的時態和語態
4. 專有名詞使用通用譯法

### 英文 → 中文  
1. 翻譯為自然的繁體中文
2. 使用台灣慣用詞彙和表達
3. 保持語句通順流暢
4. 技術詞彙優先使用業界標準譯名

## 輸出規範
- ✅ 直接輸出翻譯結果
- ✅ 保持原文的段落和格式
- ❌ 不加入「翻譯」、「結果」等多餘標籤
- ⚠️ 特殊情況可在譯文後用括號簡要註記

## 互動範例

**使用者**：Please help me translate this document.
**你**：請幫我翻譯這份文件。

**使用者**：我想要學習如何使用 Dify 建立 AI 應用。
**你**：I want to learn how to build AI applications using Dify.

---

現在請等待使用者輸入需要翻譯的內容，我將為您提供高品質的翻譯服務。
```

---

## ✅ 評分標準

### 基本要求（60分）
- [ ] 能夠正確偵測輸入語言（20分）
- [ ] 中文翻英文正確（20分）
- [ ] 英文翻中文正確（20分）

### 進階要求（30分）
- [ ] 翻譯自然流暢，符合目標語言習慣（15分）
- [ ] 保持原文格式和結構（10分）
- [ ] 對話介面清晰易用（5分）

### 加分項目（10分）
- [ ] 能處理專業術語或俚語（5分）
- [ ] 加入合理的翻譯注釋或建議（3分）
- [ ] 有良好的錯誤處理（如輸入不清時的提示）（2分）

---

## 📚 實作步驟指引

### Step 1：建立 Agent 應用
1. 登入 Dify 平台
2. 點擊「建立應用」→ 選擇「Agent」
3. 命名為「雙向英文翻譯助手」

### Step 2：設定系統提示詞
1. 在「指令」區塊貼上上方提供的提示詞範本（選擇適合你的版本）
2. 根據需要微調提示詞內容

### Step 3：選擇適合的模型
1. 推薦使用：
   - GPT-4（OpenAI）
   - Claude 3.5 Sonnet（Anthropic）
   - Gemini Pro（Google）
2. 參數建議：
   - Temperature: 0.3-0.5（保持翻譯穩定性）
   - Max Tokens: 2000-4000（根據需求調整）

### Step 4：測試與調整
使用以下測試案例驗證功能：

**測試案例 1（中翻英）**：
```
輸入：早安！今天天氣真好，適合出去走走。
預期：Good morning! The weather is great today, perfect for a walk outside.
```

**測試案例 2（英翻中）**：
```
輸入：Artificial Intelligence is transforming the way we work and live.
預期：人工智慧正在改變我們的工作與生活方式。
```

**測試案例 3（技術文字）**：
```
輸入：This API uses RESTful architecture and returns JSON responses.
預期：此 API 使用 RESTful 架構並回傳 JSON 格式的回應。
```

**測試案例 4（多段落）**：
```
輸入：
人工智慧快速發展。
它改變了我們的生活。
未來充滿可能性。

預期：
Artificial intelligence is developing rapidly.
It has transformed our lives.
The future is full of possibilities.
```

### Step 5：優化與發佈
1. 根據測試結果調整提示詞
2. 確認各種情境下的翻譯品質
3. 點擊「發佈」完成作業

---

## 📤 繳交方式

請將完成的 Agent 應用：
1. 點擊右上角「分享」按鈕
2. 產生公開連結或匯出 DSL 檔案
3. 將連結或檔案提交至作業區

**繳交內容應包含**：
- ✅ 應用分享連結 或 DSL 匯出檔案
- ✅ 測試截圖（至少包含中翻英和英翻中各一個範例）
- ✅ 簡短心得（50-100字）

---

## 💪 挑戰題（選做）

如果你想進一步挑戰自己，可以嘗試：

1. **多語言支援**：擴展到支援日文、韓文等其他語言
2. **翻譯歷史**：使用變數記錄最近的翻譯結果
3. **風格選擇**：讓使用者選擇正式/非正式翻譯風格
4. **術語庫**：加入專業領域的術語對照

---

## 🎓 學習資源

- 📖 第三章單元 3：Agent 說明
- 📖 第三章單元 1：插件系統介紹
- 🎥 課程影片：Agent 模式實作演練
- 💬 討論區：翻譯 Agent 實作經驗分享

---

**祝您順利完成作業！如有任何問題，歡迎在討論區提問。** 🚀
